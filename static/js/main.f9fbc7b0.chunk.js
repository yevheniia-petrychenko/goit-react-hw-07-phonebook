(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{48:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},88:function(t,e,n){},90:function(t,e,n){"use strict";n.r(e);var c,a,r=n(0),o=n.n(r),u=n(14),i=n.n(u),s=n(39),b=n(10),j=n(19),l=n(4),f=n(11),d=n(37),O=n.n(d),h=n(6),m=n(5),p=Object(l.b)("contacts/fetchRequest"),v=Object(l.b)("contacts/fetchSuccess"),x=Object(l.b)("contacts/fetchError"),g=Object(l.b)("contacts/addRequest"),C=Object(l.b)("contacts/addSuccess"),y=Object(l.b)("contacts/addError"),S=Object(l.b)("contacts/deleteRequest"),k=Object(l.b)("contacts/deleteSuccess"),w=Object(l.b)("contacts/deleteError"),N=Object(l.b)("contacts/contactFilter"),D=Object(l.c)([],(c={},Object(h.a)(c,v,(function(t,e){return e.payload})),Object(h.a)(c,C,(function(t,e){var n=e.payload;return[].concat(Object(j.a)(t),[n])})),Object(h.a)(c,k,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),F=Object(l.c)("",Object(h.a)({},N,(function(t,e){return e.payload}))),L=Object(l.c)(!1,(a={},Object(h.a)(a,v,(function(){return!1})),Object(h.a)(a,p,(function(){return!0})),Object(h.a)(a,x,(function(){return!1})),Object(h.a)(a,C,(function(){return!1})),Object(h.a)(a,g,(function(){return!0})),Object(h.a)(a,y,(function(){return!1})),Object(h.a)(a,k,(function(){return!1})),Object(h.a)(a,S,(function(){return!0})),Object(h.a)(a,w,(function(){return!1})),a)),R=Object(m.c)({items:D,contactFilter:F,loading:L}),E=[].concat(Object(j.a)(Object(l.d)({serializableCheck:{ignoredActions:[f.a,f.f,f.b,f.c,f.d,f.e]}})),[O.a]),B=Object(l.a)({reducer:{contacts:R},middleware:E,devTools:!1}),I=(n(48),n(17)),q=n(18),A=n(21),P=n(20),J=n(1),M=function(t){var e=t.name,n=t.number,c=t.id,a=t.onDelete;return Object(J.jsxs)("li",{children:[Object(J.jsx)("span",{children:e}),Object(J.jsx)("span",{children:n}),Object(J.jsx)("button",{className:"deleteButton",onClick:function(){a(c)},children:"Delete"})]},c)},T=n(13),z=n.n(T);z.a.defaults.baseURL="http://localhost:4040/";var U=n(16),G=function(t){return t.contacts.loading},H=function(t){return t.contacts.contactFilter},K=Object(U.a)([function(t){return t.contacts.items},H],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),Q=(n(68),Object(b.b)((function(t){return{contacts:K(t)}}),(function(t){return{onDeleteContact:function(e){return t(function(t){return function(e){e(S()),z.a.delete("/contacts/".concat(t)).then((function(){return e(k(t))})).catch((function(t){return e(w(t))}))}}(e))}}}))((function(t){var e=t.onDeleteContact,n=t.contacts;return Object(J.jsx)("ul",{className:"contactList",children:n.map((function(t){var n=t.name,c=t.number,a=t.id;return Object(J.jsx)(M,{name:n,number:c,id:a,onDelete:e},a)}))})}))),V=(n(69),function(t){Object(A.a)(n,t);var e=Object(P.a)(n);function n(){var t;Object(I.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={number:"",name:""},t.formReset=function(){t.setState({number:"",name:""})},t.handleSubmit=function(e){e.preventDefault(),console.log(t.state.name),console.log(t.props.contacts);var n=!1;""!==t.state.name?(t.props.contacts.forEach((function(e){if(e.name===t.state.name)return alert("".concat(t.state.name," is already in contacts")),void(n=!0)})),n||(t.props.onSubmit(t.state),t.formReset())):alert("Please provide a name")},t.handleInputChange=function(e){var n=e.currentTarget,c=n.name,a=n.value;t.setState(Object(h.a)({},c,a))},t}return Object(q.a)(n,[{key:"render",value:function(){var t=this.state,e=t.number,n=t.name;return Object(J.jsx)("div",{children:Object(J.jsxs)("form",{className:"form",onSubmit:this.handleSubmit,children:[Object(J.jsxs)("label",{children:["Name",Object(J.jsx)("input",{type:"text",name:"name",value:n,onChange:this.handleInputChange})]}),Object(J.jsxs)("label",{children:["Number",Object(J.jsx)("input",{type:"text",name:"number",value:e,onChange:this.handleInputChange})]}),Object(J.jsx)("button",{className:"addBtn",children:"Add Contact"})]})})}}]),n}(r.Component)),W=Object(b.b)((function(t){return{contacts:t.contacts.items}}),(function(t){return{onSubmit:function(e,n){return t(function(t){var e=t.name,n=t.number;return function(t){var c={name:e,number:n};t(g()),z.a.post("/contacts",c).then((function(e){var n=e.data;return t(C(n))})).catch((function(e){return t(y(e))}))}}(e))}}}))(V),X=n(38),Y=n.n(X),Z=function(){return Object(J.jsx)(Y.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})},$=(n(88),Object(b.b)((function(t){return{value:H(t)}}),(function(t){return{onChange:function(e){return t(N(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(J.jsxs)("label",{className:"filterLabel",children:["Find contacts by name",Object(J.jsx)("input",{type:"text",name:"filter",value:e,onChange:n})]})}))),_=function(t){Object(A.a)(n,t);var e=Object(P.a)(n);function n(){return Object(I.a)(this,n),e.apply(this,arguments)}return Object(q.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContact()}},{key:"render",value:function(){return Object(J.jsxs)("div",{className:"Container",children:[Object(J.jsx)("h2",{children:"Phonebook"}),Object(J.jsx)(W,{}),Object(J.jsx)("h2",{children:"Contacts"}),Object(J.jsx)($,{}),Object(J.jsx)(Q,{}),this.props.isLoading&&Object(J.jsx)(Z,{})]})}}]),n}(r.Component),tt=Object(b.b)((function(t){return{isLoading:G(t)}}),(function(t){return{fetchContact:function(){t((function(t){t(p()),z.a.get("/contacts").then((function(e){var n=e.data;return t(v(n))})).catch((function(e){return t(x(e))}))}))}}}))(_);i.a.render(Object(J.jsx)(o.a.StrictMode,{children:Object(J.jsx)(b.a,{store:B,children:Object(J.jsx)(s.a,{children:Object(J.jsx)(tt,{})})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.f9fbc7b0.chunk.js.map